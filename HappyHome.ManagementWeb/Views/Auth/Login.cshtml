@{
    ViewData["Title"] = "Đăng nhập";
    Layout = "_AuthLayout";

    // Controller set ViewBag.ReturnUrl
    var returnUrl = (string?)(ViewBag.ReturnUrl) ?? Url.Content("~/");
}

<div class="auth-card">
    <div class="auth-brand">
        <div class="auth-logo">HH</div>
        <div>
            <h1>Đăng nhập</h1>
            <p class="muted">Hệ thống quản trị HappyHome</p>
        </div>
    </div>

    @* ModelState errors (Controller add "Login failed") *@
    <div asp-validation-summary="All" class="text-danger"></div>

    <form asp-controller="Auth" asp-action="Login" method="post" class="auth-form" novalidate>
        @Html.AntiForgeryToken()

        <input type="hidden" name="returnUrl" value="@returnUrl" />

        <div class="form-row">
            <label for="username">Tên đăng nhập</label>
            <input id="username" name="username" autocomplete="username" required />
        </div>

        <div class="form-row">
            <label for="password">Mật khẩu</label>
            <input id="password" name="password" type="password" autocomplete="current-password" required />
        </div>

        <button type="submit" class="btn-primary w-full">Đăng nhập</button>

        <div class="auth-links">
            <a asp-controller="Home" asp-action="Index">Về trang chủ</a>
        </div>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}