@using System.Security.Claims
<!doctype html>
<html lang="vi">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>@ViewData["Title"] - HappyHome Management</title>

    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    @RenderSection("Styles", required: false)
</head>

<body class="app-body">
    <header class="app-header">
        <div class="app-container header-inner">
            <a class="brand" asp-controller="Home" asp-action="Index">
                <span class="brand-badge">HH</span>
                <span class="brand-text">HappyHome Management</span>
            </a>

            <nav class="nav">
                <a class="nav-link" asp-controller="Home" asp-action="Index">Dashboard</a>

                @* Bạn thêm menu quản trị sau: Orders/Customers/Staff... *@
                <a class="nav-link" href="#">Đơn hàng</a>
                <a class="nav-link" href="#">Khách hàng</a>
                <a class="nav-link" href="#">Nhân sự</a>
            </nav>

            <div class="header-actions">
                @if (User?.Identity?.IsAuthenticated == true)
                {
                    <div class="user-chip" title="User">
                        <span class="dot-online"></span>
                        <span class="user-name">@User.Identity?.Name</span>
                    </div>

                    <form asp-controller="Auth" asp-action="Logout" method="post" class="inline-form">
                        @Html.AntiForgeryToken()
                        <button type="submit" class="btn btn-ghost">Đăng xuất</button>
                    </form>
                }
                else
                {
                    <a class="btn btn-primary" asp-controller="Auth" asp-action="Login"
                        asp-route-returnUrl="@(Context.Request.Path + Context.Request.QueryString)">
                        Đăng nhập
                    </a>
                }
            </div>
        </div>
    </header>

    <main class="app-main">
        <div class="app-container">
            @RenderBody()
        </div>
    </main>

    <footer class="app-footer">
        <div class="app-container">
            <span class="muted">© @DateTime.Now.Year HappyHome</span>
        </div>
    </footer>

    @RenderSection("Scripts", required: false)
</body>

</html>